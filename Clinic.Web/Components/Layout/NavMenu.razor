@* The NavMenu component should be clean and simple. All styling will be handled by the parent layout. *@

<div class="d-flex align-items-center p-3 nav-brand-container">
    <RadzenImage Path="favicon.png" Style="width: 40px; height: 40px;" />
    <RadzenText Text="Animal Clinic" TextStyle="TextStyle.H5" class="ms-3 text-white" />
</div>

<RadzenPanelMenu>
    <RadzenPanelMenuItem Text="Home" Icon="home" Path="/" />

    <AuthorizeView>
        <Authorized>
            <RadzenPanelMenuItem Text="Client Portal" Icon="account_box">
                <RadzenPanelMenuItem Text="My Dashboard" Icon="dashboard" Path="/dashboard" />
            </RadzenPanelMenuItem>
        </Authorized>
    </AuthorizeView>

    <AuthorizeView Roles="Admin, Receptionist, Veterinarian">
        <Authorized>
            <RadzenPanelMenuItem Text="Clinic Management" Icon="medical_services">
                @if (context.User.IsInRole("Admin") || context.User.IsInRole("Receptionist"))
                {
                    <RadzenPanelMenuItem Text="Appointments" Icon="event" Path="/appointments" />
                    <RadzenPanelMenuItem Text="Invoicing" Icon="receipt_long" Path="/invoices" />
                }
                <RadzenPanelMenuItem Text="Pets" Icon="pets" Path="/all-pets" />
                @if (context.User.IsInRole("Admin"))
                {
                    <RadzenPanelMenuItem Text="Staff" Icon="people" Path="/staff-management" />
                    <RadzenPanelMenuItem Text="Reporting" Icon="analytics" Path="/reporting-dashboard" />
                }
            </RadzenPanelMenuItem>
        </Authorized>
    </AuthorizeView>

    <AuthorizeView Roles="Admin, Receptionist">
        <RadzenPanelMenuItem Text="Operations" Icon="storefront">
            <RadzenPanelMenuItem Text="Pharmacy & Shop" Icon="local_pharmacy" Path="/shop" />
            <RadzenPanelMenuItem Text="Inventory" Icon="inventory_2">
                <RadzenPanelMenuItem Text="Products" Icon="list_alt" Path="/inventory" />
                <RadzenPanelMenuItem Text="Suppliers" Icon="groups" Path="/suppliers" />
                <RadzenPanelMenuItem Text="Purchase Orders" Icon="shopping_cart" Path="/purchase-orders" />
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Text="Services & Pricing" Icon="price_change">
                <RadzenPanelMenuItem Text="Services" Icon="list" Path="/services" />
                <RadzenPanelMenuItem Text="Categories" Icon="category" Path="/service-categories" />
            </RadzenPanelMenuItem>
        </RadzenPanelMenuItem>
    </AuthorizeView>
</RadzenPanelMenu>